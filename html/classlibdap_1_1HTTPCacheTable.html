<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libdap: libdap::HTTPCacheTable Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libdap<span id="projectnumber">&#160;Updated for version 3.21.1</span>
   </div>
   <div id="projectbrief">libdap4 is an implementation of OPeNDAP&#39;s DAP protocol.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',true);
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('classlibdap_1_1HTTPCacheTable.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classlibdap_1_1HTTPCacheTable-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">libdap::HTTPCacheTable Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="HTTPCacheTable_8h_source.html">HTTPCacheTable.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for libdap::HTTPCacheTable:</div>
<div class="dyncontent">
<div class="center"><img src="classlibdap_1_1HTTPCacheTable__coll__graph.png" border="0" usemap="#alibdap_1_1HTTPCacheTable_coll__map" alt="Collaboration graph"/></div>
<map name="alibdap_1_1HTTPCacheTable_coll__map" id="alibdap_1_1HTTPCacheTable_coll__map">
<area shape="rect" title=" " alt="" coords="5,5,197,719"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">CacheEntry</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a284fa602d41458120814ed967560a1fb" id="r_a284fa602d41458120814ed967560a1fb"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a284fa602d41458120814ed967560a1fb">CacheEntries</a> = std::vector&lt;<a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">CacheEntry</a> *&gt;</td></tr>
<tr class="separator:a284fa602d41458120814ed967560a1fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8b9390c62c63a455994df66a26939d3" id="r_ac8b9390c62c63a455994df66a26939d3"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8b9390c62c63a455994df66a26939d3">CacheTable</a> = std::vector&lt;<a class="el" href="#a284fa602d41458120814ed967560a1fb">CacheEntries</a>&gt;</td></tr>
<tr class="separator:ac8b9390c62c63a455994df66a26939d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a51707b1b5533c2d06e57dc52a0ea90b2" id="r_a51707b1b5533c2d06e57dc52a0ea90b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a51707b1b5533c2d06e57dc52a0ea90b2">delete_by_hits</a> (int hits)</td></tr>
<tr class="memdesc:a51707b1b5533c2d06e57dc52a0ea90b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete all the entries in the cache that have fewer than <code>hits</code> hits.  <br /></td></tr>
<tr class="separator:a51707b1b5533c2d06e57dc52a0ea90b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45f40e2734be1af2a495469d9ca6fb78" id="r_a45f40e2734be1af2a495469d9ca6fb78"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a45f40e2734be1af2a495469d9ca6fb78">delete_by_size</a> (unsigned long size)</td></tr>
<tr class="memdesc:a45f40e2734be1af2a495469d9ca6fb78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete all the entries in the cache that are larger than <code>size</code> bytes.  <br /></td></tr>
<tr class="separator:a45f40e2734be1af2a495469d9ca6fb78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a107d8cc87728a855eaa18210b90c09d5" id="r_a107d8cc87728a855eaa18210b90c09d5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a107d8cc87728a855eaa18210b90c09d5">delete_expired_entries</a> (time_t time=0)</td></tr>
<tr class="memdesc:a107d8cc87728a855eaa18210b90c09d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete all the expired entries in the cache.  <br /></td></tr>
<tr class="separator:a107d8cc87728a855eaa18210b90c09d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c7c90f1c20eb4b8bc2e8f056be5ad50" id="r_a3c7c90f1c20eb4b8bc2e8f056be5ad50"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c7c90f1c20eb4b8bc2e8f056be5ad50">get_block_size</a> () const</td></tr>
<tr class="separator:a3c7c90f1c20eb4b8bc2e8f056be5ad50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b6307e2496ce26ea0f46cfc65b9ea6a" id="r_a8b6307e2496ce26ea0f46cfc65b9ea6a"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8b6307e2496ce26ea0f46cfc65b9ea6a">get_cache_root</a> () const</td></tr>
<tr class="separator:a8b6307e2496ce26ea0f46cfc65b9ea6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acafa29f363fd70558e3719b34178fe2d" id="r_acafa29f363fd70558e3719b34178fe2d"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acafa29f363fd70558e3719b34178fe2d">get_current_size</a> () const</td></tr>
<tr class="separator:acafa29f363fd70558e3719b34178fe2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aade9a27801741f7c01d62b9ae22f25ae" id="r_aade9a27801741f7c01d62b9ae22f25ae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aade9a27801741f7c01d62b9ae22f25ae">get_new_entries</a> () const</td></tr>
<tr class="separator:aade9a27801741f7c01d62b9ae22f25ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61ca0c9091687b7648e86b51b260a465" id="r_a61ca0c9091687b7648e86b51b260a465"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a61ca0c9091687b7648e86b51b260a465">HTTPCacheTable</a> ()=delete</td></tr>
<tr class="separator:a61ca0c9091687b7648e86b51b260a465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9eede868f2f3895a7a0184b2bda174d" id="r_ac9eede868f2f3895a7a0184b2bda174d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac9eede868f2f3895a7a0184b2bda174d">HTTPCacheTable</a> (const <a class="el" href="classlibdap_1_1HTTPCacheTable.html">HTTPCacheTable</a> &amp;)=delete</td></tr>
<tr class="separator:ac9eede868f2f3895a7a0184b2bda174d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab269fe3df702075417e3ff71c9284238" id="r_ab269fe3df702075417e3ff71c9284238"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab269fe3df702075417e3ff71c9284238">HTTPCacheTable</a> (const std::string &amp;cache_root, int block_size)</td></tr>
<tr class="separator:ab269fe3df702075417e3ff71c9284238"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af17bd7a96186412f3ef53caed42db767" id="r_af17bd7a96186412f3ef53caed42db767"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af17bd7a96186412f3ef53caed42db767">increment_new_entries</a> ()</td></tr>
<tr class="separator:af17bd7a96186412f3ef53caed42db767"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a857abce07c9b874aae9b70f23e85582c" id="r_a857abce07c9b874aae9b70f23e85582c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibdap_1_1HTTPCacheTable.html">HTTPCacheTable</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a857abce07c9b874aae9b70f23e85582c">operator=</a> (const <a class="el" href="classlibdap_1_1HTTPCacheTable.html">HTTPCacheTable</a> &amp;)=delete</td></tr>
<tr class="separator:a857abce07c9b874aae9b70f23e85582c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ffe278c93c2d3a0dc2f180fefc6ae3c" id="r_a3ffe278c93c2d3a0dc2f180fefc6ae3c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3ffe278c93c2d3a0dc2f180fefc6ae3c">set_block_size</a> (unsigned int sz)</td></tr>
<tr class="separator:a3ffe278c93c2d3a0dc2f180fefc6ae3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b92aa76801a35a014961b75ae955f59" id="r_a3b92aa76801a35a014961b75ae955f59"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b92aa76801a35a014961b75ae955f59">set_cache_root</a> (const std::string &amp;cr)</td></tr>
<tr class="separator:a3b92aa76801a35a014961b75ae955f59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf4e75cf192355d7c7bfcf9f0e736168" id="r_abf4e75cf192355d7c7bfcf9f0e736168"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abf4e75cf192355d7c7bfcf9f0e736168">set_current_size</a> (unsigned long sz)</td></tr>
<tr class="separator:abf4e75cf192355d7c7bfcf9f0e736168"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78d0655261edb7f9ff0b2d61b7f97917" id="r_a78d0655261edb7f9ff0b2d61b7f97917"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78d0655261edb7f9ff0b2d61b7f97917">~HTTPCacheTable</a> ()</td></tr>
<tr class="separator:a78d0655261edb7f9ff0b2d61b7f97917"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="friends" name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a76bd6ce419aad54c8c87e993f5bd11c9" id="r_a76bd6ce419aad54c8c87e993f5bd11c9"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a76bd6ce419aad54c8c87e993f5bd11c9">HTTPCacheTest</a></td></tr>
<tr class="separator:a76bd6ce419aad54c8c87e993f5bd11c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Methods to manipulate instances of CacheEntry.</h2></td></tr>
<tr class="memitem:ad02f9346125f4c311d6e74b6a8354f9e" id="r_ad02f9346125f4c311d6e74b6a8354f9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad02f9346125f4c311d6e74b6a8354f9e">delete_all_entries</a> ()</td></tr>
<tr class="separator:ad02f9346125f4c311d6e74b6a8354f9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f5660848048a98454fce23c28de573c" id="r_a8f5660848048a98454fce23c28de573c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f5660848048a98454fce23c28de573c">add_entry_to_cache_table</a> (<a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">CacheEntry</a> *entry)</td></tr>
<tr class="separator:a8f5660848048a98454fce23c28de573c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44060efe4200491d7dde690cb7c76251" id="r_a44060efe4200491d7dde690cb7c76251"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a44060efe4200491d7dde690cb7c76251">remove_entry_from_cache_table</a> (const std::string &amp;url)</td></tr>
<tr class="separator:a44060efe4200491d7dde690cb7c76251"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bce6e285fe039c69f0c45ad412faee6" id="r_a9bce6e285fe039c69f0c45ad412faee6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">CacheEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9bce6e285fe039c69f0c45ad412faee6">get_read_locked_entry_from_cache_table</a> (const std::string &amp;url)</td></tr>
<tr class="separator:a9bce6e285fe039c69f0c45ad412faee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acafb1defe553187dec51f476483562a7" id="r_acafb1defe553187dec51f476483562a7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">CacheEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acafb1defe553187dec51f476483562a7">get_write_locked_entry_from_cache_table</a> (const std::string &amp;url)</td></tr>
<tr class="separator:acafb1defe553187dec51f476483562a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ca63c76e70064549d128ff8f5951534" id="r_a0ca63c76e70064549d128ff8f5951534"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ca63c76e70064549d128ff8f5951534">calculate_time</a> (<a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">HTTPCacheTable::CacheEntry</a> *entry, int default_expiration, time_t request_time)</td></tr>
<tr class="separator:a0ca63c76e70064549d128ff8f5951534"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad94d986199656ea34d5d2cd18cc66dcb" id="r_ad94d986199656ea34d5d2cd18cc66dcb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad94d986199656ea34d5d2cd18cc66dcb">parse_headers</a> (<a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">HTTPCacheTable::CacheEntry</a> *entry, unsigned long max_entry_size, const std::vector&lt; std::string &gt; &amp;headers)</td></tr>
<tr class="separator:ad94d986199656ea34d5d2cd18cc66dcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24b2c86910ba623a59184ab42410b4cb" id="r_a24b2c86910ba623a59184ab42410b4cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a24b2c86910ba623a59184ab42410b4cb">bind_entry_to_data</a> (<a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">CacheEntry</a> *entry, FILE *body)</td></tr>
<tr class="separator:a24b2c86910ba623a59184ab42410b4cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0ac242f618a804562e18546738904df" id="r_ad0ac242f618a804562e18546738904df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad0ac242f618a804562e18546738904df">uncouple_entry_from_data</a> (FILE *body)</td></tr>
<tr class="separator:ad0ac242f618a804562e18546738904df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa4a889ee1ccfb6d1dcb75a8e73f08db" id="r_afa4a889ee1ccfb6d1dcb75a8e73f08db"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa4a889ee1ccfb6d1dcb75a8e73f08db">is_locked_read_responses</a> () const</td></tr>
<tr class="separator:afa4a889ee1ccfb6d1dcb75a8e73f08db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Cache Index</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>These methods manage the cache's index file. Each cache holds an index file named <code></code>.index which stores the cache's state information. </p>
</td></tr>
<tr class="memitem:a0ab52cb3d5d01575977adb33a21b31d2" id="r_a0ab52cb3d5d01575977adb33a21b31d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ab52cb3d5d01575977adb33a21b31d2">create_location</a> (<a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">CacheEntry</a> *entry)</td></tr>
<tr class="separator:a0ab52cb3d5d01575977adb33a21b31d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cd5a3a24fd0cd41ac0d9a3192075e9c" id="r_a7cd5a3a24fd0cd41ac0d9a3192075e9c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7cd5a3a24fd0cd41ac0d9a3192075e9c">cache_index_write</a> ()</td></tr>
<tr class="separator:a7cd5a3a24fd0cd41ac0d9a3192075e9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The table of entries in the client-side cache. This class maintains a table of <a class="el" href="#a284fa602d41458120814ed967560a1fb">CacheEntries</a>, where one instance of <a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">CacheEntry</a> is made for each item in the cache. When an item is accessed it is either locked for reading or writing. When locked for reading the entry is recorded on a list of read-locked entries. The caller must explicitly free the entry for it to be removed from this list (which is the only way it can be opened for writing). An entry can be accessed by multiple readers but only one writer.</p>
<dl class="section note"><dt>Note</dt><dd>The <a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">CacheEntry</a> class used to contain a lock that was used to ensure that the entry was locked during any changes to any of its fields. That has been removed - its now the responsibility of the caller. This change was made because it's likely the caller will need to lock all of the methods that operate on a <a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">CacheEntry</a> anyway, so the CacheEntry-specific lock was redundant. </dd></dl>

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8h_source.html#l00066">66</a> of file <a class="el" href="HTTPCacheTable_8h_source.html">HTTPCacheTable.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a284fa602d41458120814ed967560a1fb" name="a284fa602d41458120814ed967560a1fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a284fa602d41458120814ed967560a1fb">&#9670;&#160;</a></span>CacheEntries</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#a284fa602d41458120814ed967560a1fb">libdap::HTTPCacheTable::CacheEntries</a> = std::vector&lt;<a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">CacheEntry</a> *&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8h_source.html#l00178">178</a> of file <a class="el" href="HTTPCacheTable_8h_source.html">HTTPCacheTable.h</a>.</p>

</div>
</div>
<a id="ac8b9390c62c63a455994df66a26939d3" name="ac8b9390c62c63a455994df66a26939d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8b9390c62c63a455994df66a26939d3">&#9670;&#160;</a></span>CacheTable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="#ac8b9390c62c63a455994df66a26939d3">libdap::HTTPCacheTable::CacheTable</a> = std::vector&lt;<a class="el" href="#a284fa602d41458120814ed967560a1fb">CacheEntries</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8h_source.html#l00179">179</a> of file <a class="el" href="HTTPCacheTable_8h_source.html">HTTPCacheTable.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab269fe3df702075417e3ff71c9284238" name="ab269fe3df702075417e3ff71c9284238"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab269fe3df702075417e3ff71c9284238">&#9670;&#160;</a></span>HTTPCacheTable() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">libdap::HTTPCacheTable::HTTPCacheTable </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>cache_root</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>block_size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8cc_source.html#l00065">65</a> of file <a class="el" href="HTTPCacheTable_8cc_source.html">HTTPCacheTable.cc</a>.</p>

</div>
</div>
<a id="ac9eede868f2f3895a7a0184b2bda174d" name="ac9eede868f2f3895a7a0184b2bda174d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9eede868f2f3895a7a0184b2bda174d">&#9670;&#160;</a></span>HTTPCacheTable() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">libdap::HTTPCacheTable::HTTPCacheTable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibdap_1_1HTTPCacheTable.html">HTTPCacheTable</a> &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel delete">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a61ca0c9091687b7648e86b51b260a465" name="a61ca0c9091687b7648e86b51b260a465"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61ca0c9091687b7648e86b51b260a465">&#9670;&#160;</a></span>HTTPCacheTable() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">libdap::HTTPCacheTable::HTTPCacheTable </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel delete">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a78d0655261edb7f9ff0b2d61b7f97917" name="a78d0655261edb7f9ff0b2d61b7f97917"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78d0655261edb7f9ff0b2d61b7f97917">&#9670;&#160;</a></span>~HTTPCacheTable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">libdap::HTTPCacheTable::~HTTPCacheTable </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8cc_source.html#l00074">74</a> of file <a class="el" href="HTTPCacheTable_8cc_source.html">HTTPCacheTable.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8f5660848048a98454fce23c28de573c" name="a8f5660848048a98454fce23c28de573c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f5660848048a98454fce23c28de573c">&#9670;&#160;</a></span>add_entry_to_cache_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libdap::HTTPCacheTable::add_entry_to_cache_table </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">CacheEntry</a> *</td>          <td class="paramname"><span class="paramname"><em>entry</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Add a <a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">CacheEntry</a> to the cache table. As each entry is read, load it into the in-memory cache table and update the <a class="el" href="classlibdap_1_1HTTPCache.html">HTTPCache</a>'s current_size. The later is used by the garbage collection method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entry</td><td>The <a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">CacheEntry</a> instance to add. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8cc_source.html#l00380">380</a> of file <a class="el" href="HTTPCacheTable_8cc_source.html">HTTPCacheTable.cc</a>.</p>

</div>
</div>
<a id="a24b2c86910ba623a59184ab42410b4cb" name="a24b2c86910ba623a59184ab42410b4cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24b2c86910ba623a59184ab42410b4cb">&#9670;&#160;</a></span>bind_entry_to_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libdap::HTTPCacheTable::bind_entry_to_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">HTTPCacheTable::CacheEntry</a> *</td>          <td class="paramname"><span class="paramname"><em>entry</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *</td>          <td class="paramname"><span class="paramname"><em>body</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8cc_source.html#l00622">622</a> of file <a class="el" href="HTTPCacheTable_8cc_source.html">HTTPCacheTable.cc</a>.</p>

</div>
</div>
<a id="a7cd5a3a24fd0cd41ac0d9a3192075e9c" name="a7cd5a3a24fd0cd41ac0d9a3192075e9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cd5a3a24fd0cd41ac0d9a3192075e9c">&#9670;&#160;</a></span>cache_index_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libdap::HTTPCacheTable::cache_index_write </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Walk through the list of cached objects and write the cache index file to disk. If the file does not exist, it is created. If the file does exist, it is overwritten. As a side effect, zero the new_entries counter.</p>
<p>A private method.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classlibdap_1_1Error.html" title="A class for error processing.">Error</a></td><td>Thrown if the index file cannot be opened for writing. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The <a class="el" href="classlibdap_1_1HTTPCache.html">HTTPCache</a> destructor calls this method and silently ignores this exception. </dd></dl>

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8cc_source.html#l00260">260</a> of file <a class="el" href="HTTPCacheTable_8cc_source.html">HTTPCacheTable.cc</a>.</p>

</div>
</div>
<a id="a0ca63c76e70064549d128ff8f5951534" name="a0ca63c76e70064549d128ff8f5951534"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ca63c76e70064549d128ff8f5951534">&#9670;&#160;</a></span>calculate_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libdap::HTTPCacheTable::calculate_time </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">HTTPCacheTable::CacheEntry</a> *</td>          <td class="paramname"><span class="paramname"><em>entry</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>default_expiration</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">time_t</td>          <td class="paramname"><span class="paramname"><em>request_time</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculate the corrected_initial_age of the object. We use the time when this function is called as the response_time as this is when we have received the complete response. This may cause a delay if the response header is very big but should not cause any incorrect behavior.</p>
<p>A private method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entry</td><td>The <a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">CacheEntry</a> object. </td></tr>
    <tr><td class="paramname">default_expiration</td><td>The default value of the cached object's expiration time. </td></tr>
    <tr><td class="paramname">request_time</td><td>When was the request made? I think this value must be passed into the method that calls this method... </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8cc_source.html#l00530">530</a> of file <a class="el" href="HTTPCacheTable_8cc_source.html">HTTPCacheTable.cc</a>.</p>

</div>
</div>
<a id="a0ab52cb3d5d01575977adb33a21b31d2" name="a0ab52cb3d5d01575977adb33a21b31d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ab52cb3d5d01575977adb33a21b31d2">&#9670;&#160;</a></span>create_location()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libdap::HTTPCacheTable::create_location </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">HTTPCacheTable::CacheEntry</a> *</td>          <td class="paramname"><span class="paramname"><em>entry</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create the directory for this url (using the hash value from <a class="el" href="namespacelibdap.html#a68a16ef70e29c367dabd3cb5165c386a">get_hash()</a>) and a file within that directory to hold the response's information. The cache name and cache_body_fd fields of <code>entry</code> are updated.</p>
<p>mkstemp opens the file it creates, which is a good thing but it makes tracking resources hard for the <a class="el" href="classlibdap_1_1HTTPCache.html">HTTPCache</a> object (because an exception might cause a file descriptor resource leak). So I close that file descriptor here.</p>
<p>A private method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entry</td><td>The cache entry object to operate on. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classlibdap_1_1Error.html" title="A class for error processing.">Error</a></td><td>If the file for the response's body cannot be created. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8cc_source.html#l00339">339</a> of file <a class="el" href="HTTPCacheTable_8cc_source.html">HTTPCacheTable.cc</a>.</p>

</div>
</div>
<a id="ad02f9346125f4c311d6e74b6a8354f9e" name="ad02f9346125f4c311d6e74b6a8354f9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad02f9346125f4c311d6e74b6a8354f9e">&#9670;&#160;</a></span>delete_all_entries()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libdap::HTTPCacheTable::delete_all_entries </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8cc_source.html#l00501">501</a> of file <a class="el" href="HTTPCacheTable_8cc_source.html">HTTPCacheTable.cc</a>.</p>

</div>
</div>
<a id="a51707b1b5533c2d06e57dc52a0ea90b2" name="a51707b1b5533c2d06e57dc52a0ea90b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51707b1b5533c2d06e57dc52a0ea90b2">&#9670;&#160;</a></span>delete_by_hits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libdap::HTTPCacheTable::delete_by_hits </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>hits</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete all the entries in the cache that have fewer than <code>hits</code> hits. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hits</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8cc_source.html#l00111">111</a> of file <a class="el" href="HTTPCacheTable_8cc_source.html">HTTPCacheTable.cc</a>.</p>

</div>
</div>
<a id="a45f40e2734be1af2a495469d9ca6fb78" name="a45f40e2734be1af2a495469d9ca6fb78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45f40e2734be1af2a495469d9ca6fb78">&#9670;&#160;</a></span>delete_by_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libdap::HTTPCacheTable::delete_by_size </td>
          <td>(</td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>size</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete all the entries in the cache that are larger than <code>size</code> bytes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8cc_source.html#l00131">131</a> of file <a class="el" href="HTTPCacheTable_8cc_source.html">HTTPCacheTable.cc</a>.</p>

</div>
</div>
<a id="a107d8cc87728a855eaa18210b90c09d5" name="a107d8cc87728a855eaa18210b90c09d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a107d8cc87728a855eaa18210b90c09d5">&#9670;&#160;</a></span>delete_expired_entries()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libdap::HTTPCacheTable::delete_expired_entries </td>
          <td>(</td>
          <td class="paramtype">time_t</td>          <td class="paramname"><span class="paramname"><em>t</em></span><span class="paramdefsep"> = </span><span class="paramdefval">0</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete all the expired entries in the cache. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>Time to use as the base for the expiration check. If 0, use Now. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8cc_source.html#l00087">87</a> of file <a class="el" href="HTTPCacheTable_8cc_source.html">HTTPCacheTable.cc</a>.</p>

</div>
</div>
<a id="a3c7c90f1c20eb4b8bc2e8f056be5ad50" name="a3c7c90f1c20eb4b8bc2e8f056be5ad50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c7c90f1c20eb4b8bc2e8f056be5ad50">&#9670;&#160;</a></span>get_block_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int libdap::HTTPCacheTable::get_block_size </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8h_source.html#l00215">215</a> of file <a class="el" href="HTTPCacheTable_8h_source.html">HTTPCacheTable.h</a>.</p>

</div>
</div>
<a id="a8b6307e2496ce26ea0f46cfc65b9ea6a" name="a8b6307e2496ce26ea0f46cfc65b9ea6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b6307e2496ce26ea0f46cfc65b9ea6a">&#9670;&#160;</a></span>get_cache_root()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string libdap::HTTPCacheTable::get_cache_root </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8h_source.html#l00223">223</a> of file <a class="el" href="HTTPCacheTable_8h_source.html">HTTPCacheTable.h</a>.</p>

</div>
</div>
<a id="acafa29f363fd70558e3719b34178fe2d" name="acafa29f363fd70558e3719b34178fe2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acafa29f363fd70558e3719b34178fe2d">&#9670;&#160;</a></span>get_current_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long libdap::HTTPCacheTable::get_current_size </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8h_source.html#l00211">211</a> of file <a class="el" href="HTTPCacheTable_8h_source.html">HTTPCacheTable.h</a>.</p>

</div>
</div>
<a id="aade9a27801741f7c01d62b9ae22f25ae" name="aade9a27801741f7c01d62b9ae22f25ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aade9a27801741f7c01d62b9ae22f25ae">&#9670;&#160;</a></span>get_new_entries()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int libdap::HTTPCacheTable::get_new_entries </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8h_source.html#l00219">219</a> of file <a class="el" href="HTTPCacheTable_8h_source.html">HTTPCacheTable.h</a>.</p>

</div>
</div>
<a id="a9bce6e285fe039c69f0c45ad412faee6" name="a9bce6e285fe039c69f0c45ad412faee6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bce6e285fe039c69f0c45ad412faee6">&#9670;&#160;</a></span>get_read_locked_entry_from_cache_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">HTTPCacheTable::CacheEntry</a> * libdap::HTTPCacheTable::get_read_locked_entry_from_cache_table </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>url</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a pointer to a <a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">CacheEntry</a> from the cache table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>Look for this URL. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8cc_source.html#l00400">400</a> of file <a class="el" href="HTTPCacheTable_8cc_source.html">HTTPCacheTable.cc</a>.</p>

</div>
</div>
<a id="acafb1defe553187dec51f476483562a7" name="acafb1defe553187dec51f476483562a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acafb1defe553187dec51f476483562a7">&#9670;&#160;</a></span>get_write_locked_entry_from_cache_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">HTTPCacheTable::CacheEntry</a> * libdap::HTTPCacheTable::get_write_locked_entry_from_cache_table </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>url</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a pointer to a <a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">CacheEntry</a> from the cache table. Providing a way to pass the hash code into this method makes it easier to test for correct behavior when two entries collide. 10/07/02 jhrg</p>
<dl class="section note"><dt>Note</dt><dd>The caller must unlock the entry when it is done with it.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>Look for this URL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The matching <a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">CacheEntry</a> instance or NULL if none was found. </dd></dl>

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8cc_source.html#l00441">441</a> of file <a class="el" href="HTTPCacheTable_8cc_source.html">HTTPCacheTable.cc</a>.</p>

</div>
</div>
<a id="af17bd7a96186412f3ef53caed42db767" name="af17bd7a96186412f3ef53caed42db767"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af17bd7a96186412f3ef53caed42db767">&#9670;&#160;</a></span>increment_new_entries()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libdap::HTTPCacheTable::increment_new_entries </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8h_source.html#l00221">221</a> of file <a class="el" href="HTTPCacheTable_8h_source.html">HTTPCacheTable.h</a>.</p>

</div>
</div>
<a id="afa4a889ee1ccfb6d1dcb75a8e73f08db" name="afa4a889ee1ccfb6d1dcb75a8e73f08db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa4a889ee1ccfb6d1dcb75a8e73f08db">&#9670;&#160;</a></span>is_locked_read_responses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool libdap::HTTPCacheTable::is_locked_read_responses </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8cc_source.html#l00639">639</a> of file <a class="el" href="HTTPCacheTable_8cc_source.html">HTTPCacheTable.cc</a>.</p>

</div>
</div>
<a id="a857abce07c9b874aae9b70f23e85582c" name="a857abce07c9b874aae9b70f23e85582c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a857abce07c9b874aae9b70f23e85582c">&#9670;&#160;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibdap_1_1HTTPCacheTable.html">HTTPCacheTable</a> &amp; libdap::HTTPCacheTable::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibdap_1_1HTTPCacheTable.html">HTTPCacheTable</a> &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel delete">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad94d986199656ea34d5d2cd18cc66dcb" name="ad94d986199656ea34d5d2cd18cc66dcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad94d986199656ea34d5d2cd18cc66dcb">&#9670;&#160;</a></span>parse_headers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libdap::HTTPCacheTable::parse_headers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">HTTPCacheTable::CacheEntry</a> *</td>          <td class="paramname"><span class="paramname"><em>entry</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>max_entry_size</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>headers</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parse various headers from the vector (which can be retrieved from libcurl once a response is received) and load the <a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">CacheEntry</a> object with values. This method should only be called with headers from a response (it should not be used to parse request headers).</p>
<p>A private method.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entry</td><td>Store values from the headers here. </td></tr>
    <tr><td class="paramname">max_entry_size</td><td>DO not cache entries larger than this. </td></tr>
    <tr><td class="paramname">headers</td><td>A vector of header lines. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8cc_source.html#l00569">569</a> of file <a class="el" href="HTTPCacheTable_8cc_source.html">HTTPCacheTable.cc</a>.</p>

</div>
</div>
<a id="a44060efe4200491d7dde690cb7c76251" name="a44060efe4200491d7dde690cb7c76251"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44060efe4200491d7dde690cb7c76251">&#9670;&#160;</a></span>remove_entry_from_cache_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libdap::HTTPCacheTable::remove_entry_from_cache_table </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>url</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Find the <a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">CacheEntry</a> for the given url and remove both its information in the persistent store and the entry in d_cache_table. If <code>url</code> is not in the cache, this method does nothing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>Remove this URL's entry. </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classlibdap_1_1InternalErr.html" title="A class for software fault reporting.">InternalErr</a></td><td>Thrown if the <a class="el" href="structlibdap_1_1HTTPCacheTable_1_1CacheEntry.html">CacheEntry</a> for <code>url</code> is locked. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8cc_source.html#l00485">485</a> of file <a class="el" href="HTTPCacheTable_8cc_source.html">HTTPCacheTable.cc</a>.</p>

</div>
</div>
<a id="a3ffe278c93c2d3a0dc2f180fefc6ae3c" name="a3ffe278c93c2d3a0dc2f180fefc6ae3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ffe278c93c2d3a0dc2f180fefc6ae3c">&#9670;&#160;</a></span>set_block_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libdap::HTTPCacheTable::set_block_size </td>
          <td>(</td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>sz</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8h_source.html#l00217">217</a> of file <a class="el" href="HTTPCacheTable_8h_source.html">HTTPCacheTable.h</a>.</p>

</div>
</div>
<a id="a3b92aa76801a35a014961b75ae955f59" name="a3b92aa76801a35a014961b75ae955f59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b92aa76801a35a014961b75ae955f59">&#9670;&#160;</a></span>set_cache_root()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libdap::HTTPCacheTable::set_cache_root </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>cr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8h_source.html#l00225">225</a> of file <a class="el" href="HTTPCacheTable_8h_source.html">HTTPCacheTable.h</a>.</p>

</div>
</div>
<a id="abf4e75cf192355d7c7bfcf9f0e736168" name="abf4e75cf192355d7c7bfcf9f0e736168"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf4e75cf192355d7c7bfcf9f0e736168">&#9670;&#160;</a></span>set_current_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void libdap::HTTPCacheTable::set_current_size </td>
          <td>(</td>
          <td class="paramtype">unsigned long</td>          <td class="paramname"><span class="paramname"><em>sz</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8h_source.html#l00213">213</a> of file <a class="el" href="HTTPCacheTable_8h_source.html">HTTPCacheTable.h</a>.</p>

</div>
</div>
<a id="ad0ac242f618a804562e18546738904df" name="ad0ac242f618a804562e18546738904df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0ac242f618a804562e18546738904df">&#9670;&#160;</a></span>uncouple_entry_from_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void libdap::HTTPCacheTable::uncouple_entry_from_data </td>
          <td>(</td>
          <td class="paramtype">FILE *</td>          <td class="paramname"><span class="paramname"><em>body</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8cc_source.html#l00627">627</a> of file <a class="el" href="HTTPCacheTable_8cc_source.html">HTTPCacheTable.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Symbol Documentation</h2>
<a id="a76bd6ce419aad54c8c87e993f5bd11c9" name="a76bd6ce419aad54c8c87e993f5bd11c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76bd6ce419aad54c8c87e993f5bd11c9">&#9670;&#160;</a></span>HTTPCacheTest</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class HTTPCacheTest</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel friend">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="HTTPCacheTable_8h_source.html#l00181">181</a> of file <a class="el" href="HTTPCacheTable_8h_source.html">HTTPCacheTable.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="HTTPCacheTable_8h_source.html">HTTPCacheTable.h</a></li>
<li><a class="el" href="HTTPCacheTable_8cc_source.html">HTTPCacheTable.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacelibdap.html">libdap</a></li><li class="navelem"><a class="el" href="classlibdap_1_1HTTPCacheTable.html">HTTPCacheTable</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
